pipeline{
    agent any
    tools {
  maven 'maven 1'
  'hudson.plugins.sonar.SonarRunnerInstallation' 'sonarqube1'
}
    stages {
  stage('git checkout') {
    steps {
      git 'https://github.com/HopeKonu/Jenkins-Full-Course-on-aws-Linux.git'
    }
  }

  stage('maven build') {
    steps {
        sh 'mvn -f Maven/pom.xml clean package'
      // One or more steps need to be included within the steps block.
    }
       post {
  always {
   echo "Hi i am printing alaways "
  }
  unstable {
    echo "I am unstable "
    // One or more steps need to be included within each condition's block.
  }
  success {
    echo "Hi i am success "
    // One or more steps need to be included within each condition's block.
  }
  failure {
    echo "Hi i am  Failuru"
    // One or more steps need to be included within each condition's block.
  }
   aborted {
    echo "Hi i am aborted"
    // One or more steps need to be included within each condition's block.
  }
}

  }

  stage('SonarQube QA') {
    
  steps {
tool name: 'sonarqube1', type: 'hudson.plugins.sonar.SonarRunnerInstallation'
   withSonarQubeEnv(credentialsId: 'sonar-jenkins-connection') {
    sh 'mvn -f Maven/pom.xml clean package sonar:sonar'

      
   
}
    
  }
}




}

}
